const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BL8cFzad.js","./DdZ-rz0p.js","./entry.Clrvt-7d.css"])))=>i.map(i=>d[i]);
import{L as I,M as A,N as X,O as P,P as $,Q as Y,R as Z,S as N,U as x,V as O,W as J,D as ee,b as B,p as te,X as F,Y as ne,i as M,Z as S,n as re,s as oe,a0 as se,a1 as ae,e as ie}from"./DdZ-rz0p.js";import{p as T,k as L,a as ue,h as ce,t as pe,d as le}from"./BrT9kqSl.js";import{f as V,n as de}from"./BN_7HF1G.js";import{u as fe}from"./BlEBO916.js";import"./D9HYYjT4.js";import"./DuAV58dt.js";import"./D7AUcQdA.js";const w=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"]);function me(e,n){return n.reduce((t,o)=>{const r=ge(e,o);return r!==void 0&&(t[o]=r),t},{})}function ge(e,n){return n.split(".").reduce((t,o)=>t&&t[o],e)}const R="default",k=/^@|^v-on:/,H=/^:|^v-bind:/,ve=/^v-model/,be=["select","textarea","input"],_e=new Set(["math","svg"]),q=new Set,he=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),ye=["script","base"],Pe=I({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(e){const t=X()?.appContext?.app?.$nuxt,o=t?.$route||t?._route,{mdc:r}=t?.$config?.public||{},a=r?.components?.customElements||r?.components?.custom;a&&a.forEach(i=>q.add(i));const p=P(()=>({...r?.components?.prose&&e.prose!==!1?he:{},...r?.components?.map||{},...$(e.data?.mdc?.components||{}),...e.components})),l=P(()=>{const i=(e.body?.children||[]).map(d=>d.tag||d.type).filter(d=>!E(d));return Array.from(new Set(i)).sort().join(".")}),c=Y({...e.data});Z(()=>e.data,i=>{Object.assign(c,i)}),await Ee(e.body,{tags:p.value});function u(i,d){const v=i.split(".").length-1;return i.split(".").reduce((g,h,C)=>C==v&&g?(g[h]=d,g[h]):typeof g=="object"?g[h]:void 0,c)}return{tags:p,contentKey:l,route:o,runtimeData:c,updateRuntimeData:u}},render(e){const{tags:n,tag:t,body:o,data:r,contentKey:a,route:p,unwrap:l,runtimeData:c,updateRuntimeData:u}=e;if(!o)return null;const i={...r,tags:n,$route:p,runtimeData:c,updateRuntimeData:u},d=t!==!1?D(t||i.component?.name||i.component||"div"):void 0;return d?A(d,{...i.component?.props,class:e.class,...this.$attrs,key:a},{default:v}):v?.();function v(){const g=U(o,A,{documentMeta:i,parentScope:i,resolveComponent:D});return g?.default?l?V(g.default(),typeof l=="string"?l.split(" "):["*"]):g.default():null}}});function Ce(e,n,t,o){const{documentMeta:r,parentScope:a,resolveComponent:p}=t;if(e.type==="text")return n(O,e.value);if(e.type==="comment")return n(J,null,e.value);const l=e.tag,c=G(e,r.tags);if(e.tag==="binding")return Te(e,n,r,a);const u=W(c)?v=>v:p;if(ye.includes(c))return n("pre",{class:"mdc-renderer-dangerous-tag"},"<"+c+">"+de(e)+"</"+c+">");const i=u(c);typeof i=="object"&&(i.tag=l);const d=Oe(e,r);return o&&(d.key=o),n(i,d,U(e,n,{documentMeta:r,parentScope:{...a,...d},resolveComponent:u}))}function U(e,n,t){const{documentMeta:o,parentScope:r,resolveComponent:a}=t,l=(e.children||[]).reduce((u,i)=>{if(!De(i))return u[R].children.push(i),u;const d=Re(i);return u[d]=u[d]||{props:{},children:[]},i.type==="element"&&(u[d].props=i.props,u[d].children.push(...i.children||[])),u},{[R]:{props:{},children:[]}});return Object.entries(l).reduce((u,[i,{props:d,children:v}])=>(v.length&&(u[i]=(g={})=>{const h=me(g,Object.keys(d||{}));let C=v.map((s,f)=>Ce(s,n,{documentMeta:o,parentScope:{...r,...h},resolveComponent:a},String(s.props?.key||f)));return d?.unwrap&&(C=V(C,d.unwrap)),Be(C)}),u),{})}function Te(e,n,t,o={}){const r={...t.runtimeData,...o,$document:t,$doc:t},a=/\.|\[(\d+)\]/,l=(e.props?.value.trim().split(a).filter(Boolean)).reduce((u,i)=>{if(u&&i in u)return typeof u[i]=="function"?u[i]():u[i]},r),c=e.props?.defaultValue;return n(O,l??c??"")}function Oe(e,n){const{tag:t="",props:o={}}=e;return Object.keys(o).reduce(function(r,a){if(a==="__ignoreMap")return r;const p=o[a];if(ve.test(a))return Se(a,p,r,n,{native:be.includes(t)});if(a==="v-bind")return je(a,p,r,n);if(k.test(a))return xe(a,p,r,n);if(H.test(a))return we(a,p,r,n);const{attribute:l}=ue(ce,a);return Array.isArray(p)&&p.every(c=>typeof c=="string")?(r[l]=p.join(" "),r):(r[l]=p,r)},{})}function Se(e,n,t,o,{native:r}){const a=e.match(/^v-model:([^=]+)/)?.[1]||"modelValue",p=r?"value":a,l=r?"onInput":`onUpdate:${a}`;return t[p]=j(n,o.runtimeData),t[l]=c=>{o.updateRuntimeData(n,r?c.target?.value:c)},t}function je(e,n,t,o){const r=j(n,o);return t=Object.assign(t,r),t}function xe(e,n,t,o){return e=e.replace(k,""),t.on=t.on||{},t.on[e]=()=>j(n,o),t}function we(e,n,t,o){return e=e.replace(H,""),t[e]=j(n,o),t}const D=e=>{if(typeof e=="string"){if(E(e))return e;const n=N(T(e),!1);return!e||n?.name==="AsyncComponentWrapper"||typeof n=="string"?n:"setup"in n?x(()=>new Promise(t=>t(n))):n}return e};function j(e,n){const t=e.split(".").reduce((o,r)=>typeof o=="object"?o[r]:void 0,n);return typeof t>"u"?ee(e):t}function Re(e){let n="";for(const t of Object.keys(e.props||{}))if(!(!t.startsWith("#")&&!t.startsWith("v-slot:"))){n=t.split(/[:#]/,2)[1];break}return n||R}function De(e){return e.tag==="template"}function W(e){return _e.has(e)}function Be(e){const n=[];for(const t of e){const o=n[n.length-1];t.type===O&&o?.type===O?o.children=o.children+t.children:n.push(t)}return n}async function Ee(e,n){if(!e)return;const t=Array.from(new Set(o(e,n)));await Promise.all(t.map(async r=>{if(r?.render||r?.ssrRender||r?.__ssrInlineRender)return;const a=D(r);a?.__asyncLoader&&!a.__asyncResolved&&await a.__asyncLoader()}));function o(r,a){const p=r.tag;if(r.type==="text"||p==="binding"||r.type==="comment")return[];const l=G(r,a.tags);if(W(l))return[];const c=[];r.type!=="root"&&!E(l)&&c.push(l);for(const u of r.children||[])c.push(...o(u,a));return c}}function G(e,n){const t=e.tag;return!t||typeof e.props?.__ignoreMap<"u"?t:n[t]||n[T(t)]||n[L(e.tag)]||t}function E(e){return(typeof e=="string"?q.has(e):!1)||w.has(e)}const Ae=Object.assign(Pe,{__name:"MDCRenderer"}),Ie=()=>B(()=>import("./BL8cFzad.js"),__vite__mapDeps([0,1,2]),import.meta.url),$e=()=>B(()=>import("./DdZ-rz0p.js").then(e=>e.bH),__vite__mapDeps([1,2]),import.meta.url),K=["ProseAccordion","ProseAccordionItem","ProseBadge","ProseBlockquote","ProseCallout","ProseCard","ProseCardGroup","ProseCodeCollapse","ProseCodeGroup","ProseCodeIcon","ProseCodePreview","ProseCodeTree","ProseCollapsible","ProseEm","ProseField","ProseFieldGroup","ProseH1","ProseH2","ProseH3","ProseH4","ProseHr","ProseIcon","ProseImg","ProseKbd","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseSteps","ProseStrong","ProseTable","ProseTabs","ProseTabsItem","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","ProseCaution","ProseNote","ProseTip","ProseWarning","ProseH5","ProseH6","Icon"],z=["ProseA","UButton"],Ne=Object.freeze(Object.defineProperty({__proto__:null,ProseA:Ie,UButton:$e,globalComponents:K,localComponents:z},Symbol.toStringTag,{value:"Module"})),Fe={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(e){const n=["render","ssrRender","__ssrInlineRender"],t=e,o=!0,r=P(()=>{let s=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(s=t.value.excerpt),s.type==="minimal"||s.type==="minimark"?pe({value:s.value}):s}),a=P(()=>!r.value?.children?.length),p=P(()=>{const{body:s,excerpt:f,...m}=t.value;return{...m,...t.data}}),l=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(s=>[s,`prose-${s}`])),{mdc:c}=te().public||{},u=P(()=>t.data.mdc),i=P(()=>({...c?.components?.prose&&t.prose!==!1?l:{},...c?.components?.map||{},...$(u.value?.components||{}),...t.components})),d=P(()=>r.value?g(r.value,{tags:i.value}):{});function v(s){let f=s;if(typeof s=="string"){if(w.has(s))return s;if(K.includes(T(s))?f=N(s,!1):z.includes(T(s))&&(f=x(()=>B(()=>Promise.resolve().then(()=>Ne),void 0,import.meta.url).then(b=>{const _=b[T(s)];return _?_():void 0}))),typeof f=="string")return f}if(!f)return f;const m=f;return"__asyncLoader"in m?m:"setup"in m?x(()=>Promise.resolve(m)):m}function g(s,f){if(!s)return;const m=Array.from(new Set(h(s,f))),y={};for(const[b,_]of m)if(!y[b]){if(typeof _=="object"&&n.some(Q=>Object.hasOwnProperty.call(_,Q))){y[b]=_;continue}y[b]=v(_)}return y}function h(s,f){const m=s.tag;if(s.type==="text"||m==="binding"||s.type==="comment")return[];const y=C(s,f.tags),b=[];s.type!=="root"&&!w.has(y)&&b.push([m,y]);for(const _ of s.children||[])b.push(...h(_,f));return b}function C(s,f){const m=s.tag;return!m||typeof s.props?.__ignoreMap<"u"?m:f[m]||f[T(m)]||f[L(s.tag)]||m}return(s,f)=>a.value?ne(s.$slots,"empty",{key:1,body:r.value,data:p.value,dataContentId:S(o)?e.value.id:void 0}):(M(),F(Ae,{key:0,body:r.value,data:p.value,class:re(t.class),tag:t.tag,prose:t.prose,unwrap:t.unwrap,components:d.value,"data-content-id":S(o)?e.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},Me=Object.assign(Fe,{__name:"ContentRenderer"}),Ge=I({__name:"[...slug]",async setup(e){let n,t;const o=oe(),{data:r}=([n,t]=se(()=>fe("page-"+o.path,()=>le("content").path(o.path).first(),"$BPopkF1nvN")),n=await n,t(),n);if(!r.value)throw ae({statusCode:404,statusMessage:"Page not found",fatal:!0});return(a,p)=>{const l=Me;return S(r)?(M(),F(l,{key:0,class:"prose dark:prose-invert prose-slate",value:S(r)},null,8,["value"])):ie("",!0)}}});export{Ge as default};
